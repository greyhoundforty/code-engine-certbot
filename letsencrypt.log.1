2025-01-15 05:22:38,393:DEBUG:certbot._internal.main:certbot version: 3.1.0
2025-01-15 05:22:38,394:DEBUG:certbot._internal.main:Location of certbot entry point: .venv/bin/certbot
2025-01-15 05:22:38,394:DEBUG:certbot._internal.main:Arguments: ['--dns-digitalocean', '--dns-digitalocean-credentials', './digitalocean.ini', '--dns-digitalocean-propagation-seconds', '180', '-d', 'gh40.xyz', '--non-interactive', '--agree-tos', '-m', 'ryantiffany@fastmail.com', '--config-dir', './', '--logs-dir', './', '--work-dir', './']
2025-01-15 05:22:38,394:DEBUG:certbot._internal.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#dns-digitalocean,PluginEntryPoint#manual,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)
2025-01-15 05:22:38,408:DEBUG:certbot._internal.log:Root logging level set at 30
2025-01-15 05:22:38,408:DEBUG:certbot._internal.plugins.selection:Requested authenticator dns-digitalocean and installer None
2025-01-15 05:22:38,408:DEBUG:certbot._internal.plugins.selection:Single candidate plugin: * dns-digitalocean
Description: Obtain certificates using a DNS TXT record (if you are using DigitalOcean for DNS).
Interfaces: Authenticator, Plugin
Entry point: EntryPoint(name='dns-digitalocean', value='certbot_dns_digitalocean._internal.dns_digitalocean:Authenticator', group='certbot.plugins')
Initialized: <certbot_dns_digitalocean._internal.dns_digitalocean.Authenticator object at 0x1046dc080>
Prep: True
2025-01-15 05:22:38,408:DEBUG:certbot._internal.plugins.selection:Selected authenticator <certbot_dns_digitalocean._internal.dns_digitalocean.Authenticator object at 0x1046dc080> and installer None
2025-01-15 05:22:38,408:INFO:certbot._internal.plugins.selection:Plugins selected: Authenticator dns-digitalocean, Installer None
2025-01-15 05:22:38,479:DEBUG:certbot._internal.main:Picked account: <Account(RegistrationResource(body=Registration(key=None, contact=(), agreement=None, status=None, terms_of_service_agreed=None, only_return_existing=None, external_account_binding=None), uri='https://acme-v02.api.letsencrypt.org/acme/acct/2171495035', new_authzr_uri=None, terms_of_service=None), 7fe19b0298363bb6f3b3af0c19b14481, Meta(creation_dt=datetime.datetime(2025, 1, 15, 11, 19, 27, tzinfo=datetime.timezone.utc), creation_host='1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa', register_to_eff=None))>
2025-01-15 05:22:38,487:DEBUG:acme.client:Sending GET request to https://acme-v02.api.letsencrypt.org/directory.
2025-01-15 05:22:38,490:DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): acme-v02.api.letsencrypt.org:443
2025-01-15 05:22:38,589:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "GET /directory HTTP/11" 200 828
2025-01-15 05:22:38,590:DEBUG:acme.client:Received response:
HTTP 200
Server: nginx
Date: Wed, 15 Jan 2025 11:22:38 GMT
Content-Type: application/json
Content-Length: 828
Connection: keep-alive
Cache-Control: public, max-age=0, no-cache
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "Q_yEhEo1gFQ": "https://community.letsencrypt.org/t/adding-random-entries-to-the-directory/33417",
  "keyChange": "https://acme-v02.api.letsencrypt.org/acme/key-change",
  "meta": {
    "caaIdentities": [
      "letsencrypt.org"
    ],
    "profiles": {
      "classic": "The same profile you're accustomed to"
    },
    "termsOfService": "https://letsencrypt.org/documents/LE-SA-v1.4-April-3-2024.pdf",
    "website": "https://letsencrypt.org"
  },
  "newAccount": "https://acme-v02.api.letsencrypt.org/acme/new-acct",
  "newNonce": "https://acme-v02.api.letsencrypt.org/acme/new-nonce",
  "newOrder": "https://acme-v02.api.letsencrypt.org/acme/new-order",
  "renewalInfo": "https://acme-v02.api.letsencrypt.org/draft-ietf-acme-ari-03/renewalInfo",
  "revokeCert": "https://acme-v02.api.letsencrypt.org/acme/revoke-cert"
}
2025-01-15 05:22:38,591:DEBUG:certbot._internal.display.obj:Notifying user: Requesting a certificate for gh40.xyz
2025-01-15 05:22:38,597:DEBUG:acme.client:Requesting fresh nonce
2025-01-15 05:22:38,597:DEBUG:acme.client:Sending HEAD request to https://acme-v02.api.letsencrypt.org/acme/new-nonce.
2025-01-15 05:22:38,630:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "HEAD /acme/new-nonce HTTP/11" 200 0
2025-01-15 05:22:38,631:DEBUG:acme.client:Received response:
HTTP 200
Server: nginx
Date: Wed, 15 Jan 2025 11:22:38 GMT
Connection: keep-alive
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index"
Replay-Nonce: 2NJzUBzXxu0oHxPHZvyoMh4PMLIq5HuOrDTreLxSF1neUhMAjHM
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800


2025-01-15 05:22:38,631:DEBUG:acme.client:Storing nonce: 2NJzUBzXxu0oHxPHZvyoMh4PMLIq5HuOrDTreLxSF1neUhMAjHM
2025-01-15 05:22:38,631:DEBUG:acme.client:JWS payload:
b'{\n  "identifiers": [\n    {\n      "type": "dns",\n      "value": "gh40.xyz"\n    }\n  ]\n}'
2025-01-15 05:22:38,636:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/new-order:
{
  "protected": "eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvMjE3MTQ5NTAzNSIsICJub25jZSI6ICIyTkp6VUJ6WHh1MG9IeFBIWnZ5b01oNFBNTElxNUh1T3JEVHJlTHhTRjFuZVVoTUFqSE0iLCAidXJsIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL25ldy1vcmRlciJ9",
  "signature": "CmMj7W9iev4-RLyNAy98EFkLBBWLY-tKYc5W3THoPzQuvVWqM8_7sXGM072TtUVFNXHDLXQlZ7EMw1kj-twUD3iO3NwvZJKu2RjWd1UbMUpiyii7d2Modp7jlwH3r8SeEP3Aqo1CbLr0KDuyqf6fx0CatHI-xIuMLVoKkSaReGu7apm-NFfSRIMpCnM3qkp8iv9hcy-elUwPfWC4zhfgj0lSfE7cpyX7vXzDXhb1PuHJo9a81YI7lcTp4MdeHzHdkyBjz6PIUjLxFeP_7Nz3WWDmWNaMx5wteEEt5eG4cwTIQG2gVg5_dIwwdrKP4ET56jAJxsAUVLwP7Qk52agU5g",
  "payload": "ewogICJpZGVudGlmaWVycyI6IFsKICAgIHsKICAgICAgInR5cGUiOiAiZG5zIiwKICAgICAgInZhbHVlIjogImdoNDAueHl6IgogICAgfQogIF0KfQ"
}
2025-01-15 05:22:38,800:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "POST /acme/new-order HTTP/11" 201 342
2025-01-15 05:22:38,801:DEBUG:acme.client:Received response:
HTTP 201
Server: nginx
Date: Wed, 15 Jan 2025 11:22:38 GMT
Content-Type: application/json
Content-Length: 342
Connection: keep-alive
Boulder-Requester: 2171495035
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index"
Location: https://acme-v02.api.letsencrypt.org/acme/order/2171495035/344601760995
Replay-Nonce: 2NJzUBzXF3EibzD2G7rk0JDw1Zu34lVptIlD9Cr0Pz8eOPb-r2s
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "status": "pending",
  "expires": "2025-01-22T11:22:38Z",
  "identifiers": [
    {
      "type": "dns",
      "value": "gh40.xyz"
    }
  ],
  "authorizations": [
    "https://acme-v02.api.letsencrypt.org/acme/authz/2171495035/461016223435"
  ],
  "finalize": "https://acme-v02.api.letsencrypt.org/acme/finalize/2171495035/344601760995"
}
2025-01-15 05:22:38,801:DEBUG:acme.client:Storing nonce: 2NJzUBzXF3EibzD2G7rk0JDw1Zu34lVptIlD9Cr0Pz8eOPb-r2s
2025-01-15 05:22:38,801:DEBUG:acme.client:JWS payload:
b''
2025-01-15 05:22:38,805:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz/2171495035/461016223435:
{
  "protected": "eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvMjE3MTQ5NTAzNSIsICJub25jZSI6ICIyTkp6VUJ6WEYzRWliekQyRzdyazBKRHcxWnUzNGxWcHRJbEQ5Q3IwUHo4ZU9QYi1yMnMiLCAidXJsIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2F1dGh6LzIxNzE0OTUwMzUvNDYxMDE2MjIzNDM1In0",
  "signature": "XhV_Syqzm6OdOW6woAt2ZUfckpFoF3gKqkAhtZ8_yYumXu98gjgXKfZeFBl6vsEmLH-a4bUWG_3TyYVI9jcOqNMBmGGoZJ1ho_4KiGOh9EYNd6P4Q5P1edRKVh1zQNZrIHChSW2otApT6n6fc1o9oQA8EpH9qsf5VBB0wgBKwFgFymb0B8Pg3eiRDm1KLSXbye9c5s98P5L0XrczFZHs9zV6ncmyayaHHvocmmITQBbc8b54lI1UTJmt1LJrKKDm4zcKTLHylUuGrtRenCFGKQZXGLAZBygP4zdjeVDw9BwjqfQc4ip6Ln7vQfBxGMsKRa9xdwOe2nrox3Vu1xcqcQ",
  "payload": ""
}
2025-01-15 05:22:38,845:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "POST /acme/authz/2171495035/461016223435 HTTP/11" 200 816
2025-01-15 05:22:38,846:DEBUG:acme.client:Received response:
HTTP 200
Server: nginx
Date: Wed, 15 Jan 2025 11:22:38 GMT
Content-Type: application/json
Content-Length: 816
Connection: keep-alive
Boulder-Requester: 2171495035
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index"
Replay-Nonce: yoRvt02QMS1A7MAZEa_qjMmof1LSZcdCFhibdbDu1ZV55dAud2E
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "identifier": {
    "type": "dns",
    "value": "gh40.xyz"
  },
  "status": "pending",
  "expires": "2025-01-22T11:22:38Z",
  "challenges": [
    {
      "type": "http-01",
      "url": "https://acme-v02.api.letsencrypt.org/acme/chall/2171495035/461016223435/mOpmrg",
      "status": "pending",
      "token": "TfHGh3NXAjb1qvA6RB18ZNerLTmWvSffBjVVIg8ey7c"
    },
    {
      "type": "dns-01",
      "url": "https://acme-v02.api.letsencrypt.org/acme/chall/2171495035/461016223435/P9DvtA",
      "status": "pending",
      "token": "TfHGh3NXAjb1qvA6RB18ZNerLTmWvSffBjVVIg8ey7c"
    },
    {
      "type": "tls-alpn-01",
      "url": "https://acme-v02.api.letsencrypt.org/acme/chall/2171495035/461016223435/HjdAOA",
      "status": "pending",
      "token": "TfHGh3NXAjb1qvA6RB18ZNerLTmWvSffBjVVIg8ey7c"
    }
  ]
}
2025-01-15 05:22:38,846:DEBUG:acme.client:Storing nonce: yoRvt02QMS1A7MAZEa_qjMmof1LSZcdCFhibdbDu1ZV55dAud2E
2025-01-15 05:22:38,846:INFO:certbot._internal.auth_handler:Performing the following challenges:
2025-01-15 05:22:38,847:INFO:certbot._internal.auth_handler:dns-01 challenge for gh40.xyz
2025-01-15 05:22:38,850:DEBUG:digitalocean:GET https://api.digitalocean.com/v2/domains/ params:{'per_page': 200} {'Content-type': 'application/json', 'Authorization': 'Bearer TOKEN0', 'User-Agent': 'python-digitalocean/1.16.0 requests/2.32.3'} None
2025-01-15 05:22:38,852:DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): api.digitalocean.com:443
2025-01-15 05:22:39,029:DEBUG:urllib3.connectionpool:https://api.digitalocean.com:443 "GET /v2/domains/?per_page=200 HTTP/11" 200 None
2025-01-15 05:22:39,031:DEBUG:certbot_dns_digitalocean._internal.dns_digitalocean:Found base domain for gh40.xyz using name gh40.xyz
2025-01-15 05:22:39,032:DEBUG:digitalocean:POST https://api.digitalocean.com/v2/domains/gh40.xyz/records data:{'type': 'TXT', 'name': '_acme-challenge', 'data': '8-wVfiVl4nH-yasm49_OX40YD5_UMu7_9pKON1MTzbo', 'ttl': 30} {'Content-type': 'application/json', 'Authorization': 'Bearer TOKEN0', 'User-Agent': 'python-digitalocean/1.16.0 requests/2.32.3'} None
2025-01-15 05:22:39,034:DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): api.digitalocean.com:443
2025-01-15 05:22:39,316:DEBUG:urllib3.connectionpool:https://api.digitalocean.com:443 "POST /v2/domains/gh40.xyz/records HTTP/11" 201 201
2025-01-15 05:22:39,319:DEBUG:certbot_dns_digitalocean._internal.dns_digitalocean:Successfully added TXT record with id: 1766224623
2025-01-15 05:22:39,320:DEBUG:certbot._internal.display.obj:Notifying user: Waiting 180 seconds for DNS changes to propagate
2025-01-15 05:25:16,283:DEBUG:certbot._internal.error_handler:Encountered exception:
Traceback (most recent call last):
  File "/Users/ryan/projects/code-engine-certbot/.venv/lib/python3.12/site-packages/certbot/_internal/auth_handler.py", line 88, in handle_authorizations
    resps = self.auth.perform(achalls)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ryan/projects/code-engine-certbot/.venv/lib/python3.12/site-packages/certbot/plugins/dns_common.py", line 88, in perform
    sleep(self.conf('propagation-seconds'))
KeyboardInterrupt

2025-01-15 05:25:16,283:DEBUG:certbot._internal.error_handler:Calling registered functions
2025-01-15 05:25:16,284:INFO:certbot._internal.auth_handler:Cleaning up challenges
2025-01-15 05:25:16,285:DEBUG:digitalocean:GET https://api.digitalocean.com/v2/domains/ params:{'per_page': 200} {'Content-type': 'application/json', 'Authorization': 'Bearer TOKEN0', 'User-Agent': 'python-digitalocean/1.16.0 requests/2.32.3'} None
2025-01-15 05:25:16,288:DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): api.digitalocean.com:443
2025-01-15 05:25:16,722:ERROR:certbot._internal.log:Exiting due to user request.
